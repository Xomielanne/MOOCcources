{% extends "base.html" %}
{% block content %}
    <div class="container">
        <h1 class="my-4">Изменить курс</h1>
        <div class="form-group">
            <label for="title">Название</label>
            <input id="title" class="form-control" value="{{ course.title }}">
        </div>
        <div class="form-group">
            <label for="description">Описание</label>
            <textarea id="description" class="form-control" rows="4">{{ course.description }}</textarea>
        </div>

        <h2 class="my-4" id="current-image">Текущий слайд</h2>
        {% include "courses/presentation-player.html" %}
        <div id="slide-controllers" class="btn-group">
            <button id="next-slide-button" class="btn btn-dark">Следующий слайд</button>
            <div class="dropdown">
                <button id="choose-slide-button" class="btn btn-secondary dropdown-toggle" type="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Выбрать слайд
                </button>
                <div id="slide-list" class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                </div>
            </div>
        </div>
        {% include "courses/presentation-controllers.html" %}
        <button id="save" class="btn btn-dark" type="submit">Сохранить</button>
    </div><!-- /.container -->

    <script>
        let slideList = {{ slides|safe }};
        let checkPoints = {{ check_points|safe }};
        let pointers = {{ pointers|safe }};

        $(document).ready(function () {
            fillCheckPointsList();
            fillPointersList();

            slideList.forEach(function (slide) {
                addSlideToChooseList(slide);
            });

            console.log(slideList);
        });

        $("#save").click(function () {
            console.log(checkPoints);
            console.log(pointers);
        });
    </script>
{% endblock %}