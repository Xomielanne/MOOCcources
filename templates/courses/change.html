{% extends "base.html" %}
{% block content %}
    <div class="container">
        <h1 class="my-4">Изменить курс</h1>
        <div class="form-group">
            <label for="title">Название</label>
            <input id="title" class="form-control" value="{{ course.title }}">
        </div>
        <div class="form-group">
            <label for="description">Описание</label>
            <textarea id="description" class="form-control" rows="4">{{ course.description }}</textarea>
        </div>

        <h2 class="my-4" id="current-image">Текущий слайд</h2>
        {% include "courses/presentation-player.html" %}
        <div id="slide-controllers" class="btn-group">
            <button id="next-slide-button" class="btn btn-dark">Следующий слайд</button>
            <div class="dropdown">
                <button id="choose-slide-button" class="btn btn-secondary dropdown-toggle" type="button"
                        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Выбрать слайд
                </button>
                <div id="slide-list" class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                </div>
            </div>
        </div>
        <button id="pointer-button" class="btn btn-dark">Указатель</button>
        <div class="row">
            <div class="col-md-8 col-sm-8 mb-4">
                <h3 class="my-4" id="slides-label">Все слайды</h3>
                {% include "courses/slides_panel.html" %}
            </div>
            <div class="col-md-4 col-sm-4 mb-4 checkpoints-wrapper" id="checkpoints-wrapper">
                <h3 class="my-4" id="checkpoints-label">Контрольные точки</h3>
                {% include "courses/checkpoints_list.html" %}
                <h3 class="my-4" id="pointers-label">Указатели</h3>
                {% include "courses/pointers_list.html" %}
            </div>
        </div>
        <button id="save" class="btn btn-dark" type="submit">Сохранить</button>
    </div><!-- /.container -->

    <script>
        let slideList = {{ slides|safe }};
        let checkPoints = {{ check_points|safe }};
        let pointers = {{ pointers|safe }};

        fillCheckPointsList();
        fillPointersList();

        $("#save").click(function() {
            console.log(checkPoints);
        });
    </script>
{% endblock %}